(this.webpackJsonplesson2=this.webpackJsonplesson2||[]).push([[0],{13:function(t,e,n){t.exports={list:"ContactList_list__2rwWU",listItem:"ContactList_listItem__m9l29",button:"ContactList_button__2e2VC",name:"ContactList_name__2jN4w",enter:"ContactList_enter__LrllS",enterActive:"ContactList_enterActive__3JHaD",exit:"ContactList_exit__2UTvx",exitActive:"ContactList_exitActive__9h-Ch"}},25:function(t,e,n){t.exports={appear:"PhoneBook_appear__2ua1o",appearActive:"PhoneBook_appearActive__1nLzj",title:"PhoneBook_title__3hOjs",enter:"PhoneBook_enter__3N6Jn",enterActive:"PhoneBook_enterActive__14uyq",exit:"PhoneBook_exit__vq3hY",exitActive:"PhoneBook_exitActive__iKFtt"}},36:function(t,e,n){t.exports={NotificationWrapper:"Insert_NotificationWrapper__hLTLd",appear:"Insert_appear__s-PdR",appearActive:"Insert_appearActive__g-5dJ",exit:"Insert_exit__3I5km",exitActive:"Insert_exitActive__T3yM2"}},37:function(t,e,n){t.exports={NotificationWrapper:"Notification_NotificationWrapper__1Mc8Z",appear:"Notification_appear__jKpO9",appearActive:"Notification_appearActive__3yph5",exit:"Notification_exit__Hoe2h",exitActive:"Notification_exitActive__6Sooh"}},38:function(t,e,n){t.exports={input:"ContactFilter_input__3SnHw"}},46:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){"use strict";n.r(e);var c,a=n(1),o=n(0),r=n(9),s=n.n(r),i=(n(46),n(16)),u=n(17),l=n(19),b=n(18),m=n(10),h=n(7),j=n(8),d=n.n(j),p=n(20),f=n.n(p),_=n(2),O=Object(_.b)("contacts/addRequest"),C=Object(_.b)("contacts/addSuccess"),v=Object(_.b)("contacts/addError"),x=Object(_.b)("contacts/fetchRequest"),N=Object(_.b)("contacts/fetchSuccess"),y=Object(_.b)("contacts/fetchError"),A=Object(_.b)("contacts/removeRequest"),S=Object(_.b)("contacts/removeSuccess"),g=Object(_.b)("contacts/removeError"),w={addContactRequest:O,addContactSuccess:C,addContactError:v,fetchContactsRequest:x,fetchContactsSuccess:N,fetchContactsError:y,onHandleFilter:Object(_.b)("contacts/handleFilter"),removeContactsRequest:A,removeContactsSuccess:S,removeContactsError:g},E={addContact:function(t){var e=t.name,n=t.number;return function(t){t(w.addContactRequest()),f.a.post("http://localhost:2000/contacts",{name:e,number:n}).then((function(e){var n=e.data;t(w.addContactSuccess(n))})).catch((function(e){return t(w.addContactError(e))}))}},fetchContacts:function(){return function(t){t(w.fetchContactsRequest()),f.a.get("http://localhost:2000/contacts").then((function(e){var n=e.data;return t(w.fetchContactsSuccess(n))})).catch((function(e){return t(w.fetchContactsError(e))}))}},removeContact:function(t){return function(e){e(w.removeContactsRequest()),f.a.delete("http://localhost:2000/contacts/".concat(t)).then((function(){return e(w.removeContactsSuccess(t))})).catch((function(t){return e(w.removeContactsError(t))}))}}},F=n(73),L=n(36),k=n.n(L),q=function(){return Object(a.jsx)("div",{className:k.a.NotificationWrapper,children:"Insert number, please"})},I=n(37),R=n.n(I),H=function(t){var e=t.name;return Object(a.jsx)("div",{className:R.a.NotificationWrapper,children:"".concat(e," is already in list")})},P=n(15),B=function(t){return t.contacts.contactList},W=function(t){return t.contacts.filter},J={getContact:B,getFilter:W,getFilteredContacts:Object(P.a)([W,B],(function(t,e){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))}))},T=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",newContact:null,showAlert:!1,showEmpty:!1},t.handleChange=function(e){var n=e.target.name;t.setState(Object(m.a)({},n,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.contacts.some((function(e){return e.name===t.state.name}))?(t.setState({newContact:t.state.name,showAlert:!0}),setTimeout((function(){t.setState({showAlert:!1})}),2500)):""===t.state.name||""===t.state.contact?(t.setState({showEmpty:!0}),setTimeout((function(){t.setState({showEmpty:!1})}),2500)):t.props.addContact({name:t.state.name,number:t.state.number}),t.setState({name:"",number:""})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.newContact,n=t.showAlert,c=t.showEmpty;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:d.a.form,children:[Object(a.jsxs)("label",{className:d.a.label,children:["Name",Object(a.jsx)("input",{className:d.a.input,name:"name",type:"text",value:this.state.name,onChange:this.handleChange})]}),Object(a.jsxs)("label",{className:d.a.label,children:["Number",Object(a.jsx)("input",{className:d.a.input,name:"number",type:"tel",value:this.state.number,onChange:this.handleChange})]}),Object(a.jsx)("button",{className:d.a.button,type:"submit",children:"Add contact"})]}),Object(a.jsx)(F.a,{in:n,timeout:250,classNames:d.a,unmountOnExit:!0,children:Object(a.jsx)(H,{name:e})}),Object(a.jsx)(F.a,{in:c,timeout:250,classNames:d.a,unmountOnExit:!0,children:Object(a.jsx)(q,{})})]})}}]),n}(o.Component),D={addContact:E.addContact},M=Object(h.b)((function(t){return{contacts:J.getContact(t)}}),D)(T),U=n(13),K=n.n(U),X=n(74),z=Object(h.b)((function(t){return{contacts:J.getFilteredContacts(t)}}),(function(t){return{removeContact:function(e){t(E.removeContact(e))}}}))((function(t){var e=t.contacts,n=t.removeContact,c=function(t){var e=t.target.dataset.id;n(e)};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Contacts"}),Object(a.jsx)(X.a,{component:"ul",className:K.a.list,children:e.map((function(t){return Object(a.jsx)(F.a,{timeout:250,classNames:K.a,children:Object(a.jsxs)("li",{className:K.a.listItem,children:[Object(a.jsx)("span",{className:K.a.name,children:t.name}),":"," ",Object(a.jsx)("span",{children:t.number}),Object(a.jsx)("button",{className:K.a.button,type:"button","data-id":t.id,onClick:c,children:"Delete"})]},t.id)},t.id)}))})]})})),V=n(38),Y=n.n(V),Z={onHandleFilter:w.onHandleFilter},G=Object(h.b)((function(t){return{value:J.getFilter(t)}}),Z)((function(t){var e=t.value,n=t.onHandleFilter;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Find contacts by name"}),Object(a.jsx)("input",{className:Y.a.input,type:"text",value:e,onChange:function(t){return n(t.target.value)}})]})})),Q=n(25),$=n.n(Q),tt=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onfetchContacts()}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(F.a,{in:!0,appear:!0,timeout:500,classNames:$.a,children:Object(a.jsx)("h1",{className:$.a.title,children:"Phonebook"})}),Object(a.jsx)(M,{}),Object(a.jsx)(G,{}),Object(a.jsx)(z,{})]})}}]),n}(o.Component),et={onfetchContacts:E.fetchContacts},nt=Object(h.b)((function(t){return{contacts:J.getContact(t)}}),et)(tt),ct=function(){return Object(a.jsx)(nt,{})},at=(n(70),n(39)),ot=n(6),rt=Object(_.c)([],(c={},Object(m.a)(c,w.fetchContactsSuccess,(function(t,e){return e.payload})),Object(m.a)(c,w.addContactSuccess,(function(t,e){return[].concat(Object(at.a)(t),[e.payload])})),Object(m.a)(c,w.removeContactsSuccess,(function(t,e){return t.filter((function(t){return t.id.toString()!==e.payload}))})),c)),st=Object(_.c)("",Object(m.a)({},w.onHandleFilter,(function(t,e){return e.payload}))),it=Object(ot.c)({contactList:rt,filter:st}),ut=Object(_.a)({reducer:{contacts:it}});s.a.render(Object(a.jsx)(h.a,{store:ut,children:Object(a.jsx)(ct,{})}),document.getElementById("root"))},8:function(t,e,n){t.exports={form:"ContactForm_form__2JwdU",label:"ContactForm_label__38rEX",input:"ContactForm_input__m3mH0",button:"ContactForm_button__2XgbA"}}},[[71,1,2]]]);
//# sourceMappingURL=main.d71800ff.chunk.js.map